# 乐乐的学习乐园 - 开发文档

## 项目概述

**项目名称**：乐乐的学习乐园  
**版本**：v2.7  
**目标用户**：3-5岁幼儿  
**开发语言**：Python 3.x + Tkinter  

这是一款全方位幼儿早教软件，专为3岁儿童"乐乐"设计，包含6大学习模块，采用游戏化学习方式，配合语音互动和奖励系统，让孩子在快乐中学习。

---

## 核心功能模块

### 1. 识字乐园 (`kids_game_v3.py`) - v3.3
- 认字卡片：展示汉字、拼音、emoji、组词、造句
- 看图选字：根据图片选择对应汉字
- 听音选字：听语音选择汉字
- 找朋友：汉字与图片配对游戏
- 打地鼠：快速识别目标汉字
- 限时挑战：60秒答题挑战

### 2. 拼音乐园 (`kids_pinyin.py`) - v1.2
- 韵母学习：单韵母、复韵母
- 声母学习：23个声母
- 拼读练习：声母+韵母组合
- 声调练习：四声调辨别
- 拼音打地鼠：快速反应游戏
- 拼音连连看：配对游戏

### 3. 数学乐园 (`kids_math.py`) - v1.2
- 数字卡片：1-10数字认知
- 数一数：点数练习
- 比大小：数字比较
- 认形状：基础几何图形
- 简单加法：10以内加法
- 数字打地鼠：快速计算

### 4. 英语乐园 (`kids_english.py`) - v1.2
- 字母学习：26个英文字母
- 单词卡片：基础英语单词
- 听音选词：听力练习
- 字母配对：大小写配对
- 单词拼写：简单拼写
- 英语打地鼠：快速反应

### 5. 思维乐园 (`kids_thinking.py`) - v1.2
- 找不同：观察力训练
- 记忆翻牌：记忆力训练
- 图形规律：逻辑思维
- 分类游戏：归类能力
- 迷宫寻路：空间思维
- 拼图游戏：动手能力

### 6. 交通乐园 (`kids_vehicles.py`) - v2.2
- 挖掘机挖宝：控制挖掘机寻找宝藏
- 赛车比赛：躲避障碍物
- 飞机大冒险：收集星星
- 火车运货：装载货物
- 轮船过河：安全过河
- 交通工具认知：学习各种交通工具

---

## 项目文件结构

```
乐乐学习乐园/
├── kids_learning_main.py    # 主程序入口 (v2.7)
├── voice_config_shared.py   # 语音配置和数据接口 (v1.1)
├── learning_data.py         # 学习数据管理 (v1.1)
├── learning_base.py         # 基础功能模块 (v1.0)
├── word_database.py         # 字库数据库
├── drawing_utils.py         # 图形绘制工具
│
├── kids_game_v3.py          # 识字乐园 (v3.3)
├── kids_pinyin.py           # 拼音乐园 (v1.2)
├── kids_math.py             # 数学乐园 (v1.2)
├── kids_english.py          # 英语乐园 (v1.2)
├── kids_thinking.py         # 思维乐园 (v1.2)
├── kids_vehicles.py         # 交通乐园 (v2.2)
│
├── voice_config.json        # 语音风格配置
├── learning_progress.json   # 学习进度数据
├── 字库模板.txt              # 自定义字库模板
├── 开发文档.md               # 本文档
│
├── audio/                   # 音频资源目录
│   ├── praise/              # 表扬音频
│   ├── encourage/           # 鼓励音频
│   └── effects/             # 音效
│
├── 启动学习乐园.bat          # 主程序启动
├── 启动识字游戏.bat          # 识字模块启动
├── 启动拼音乐园.bat          # 拼音模块启动
├── 启动数学乐园.bat          # 数学模块启动
├── 启动英语乐园.bat          # 英语模块启动
├── 启动思维乐园.bat          # 思维模块启动
├── 启动交通乐园.bat          # 交通模块启动
│
├── backup_20241224/         # 备份（可删除）
└── backup_20241230_v2/      # 备份（可删除）
```

---

## 技术架构

### 依赖库
```
edge-tts          # 微软语音合成
pygame            # 音频播放
pypinyin          # 汉字转拼音
tkinter           # GUI界面（Python内置）
```

### 安装依赖
```bash
pip install edge-tts pygame pypinyin
```

### 核心模块说明

#### learning_base.py - 基础功能模块
- `TempFileManager`: 临时文件管理，自动清理TTS音频文件
- `TimerManager`: 定时器管理，防止内存泄漏
- `RestReminder`: 休息提醒，每15分钟提醒休息
- `BatchSaver`: 批量保存优化，减少IO频率
- `GameStateManager`: 游戏状态管理
- `confirm_exit()`: 退出确认对话框

#### learning_data.py - 学习数据管理
- 学习进度追踪
- 错题记录和复习
- 徽章奖励系统
- 每日挑战任务
- 艾宾浩斯复习算法
- 家长控制面板

#### voice_config_shared.py - 语音配置
- 4种语音风格：汪汪队、温柔姐姐、活泼哥哥、可爱童声
- 丰富的表扬语和鼓励语
- 学习数据接口封装

---

## 设计特点

### 1. 游戏化学习
- 每个模块6种玩法，趣味性强
- 答对3题获得1颗星星
- 徽章奖励系统激励学习
- 每日挑战任务

### 2. 难度自适应
- 3个难度等级自动调整
- 正确率≥80%自动升级
- 正确率<50%自动降级
- 错题智能复习

### 3. 语音互动
- 使用edge-tts微软童声
- 表扬语完整播放（6秒延迟）
- 支持自定义音频文件

### 4. 安全保护
- 退出确认对话框（默认同意）
- 休息提醒（每15分钟）
- 定时器自动清理
- 临时文件自动清理
- 数据批量保存

### 5. 童趣界面
- 大按钮、大字体
- 丰富的emoji图标
- 彩色卡通风格
- 适合3-5岁儿童操作

---

## 数据存储

### learning_progress.json 结构
```json
{
  "user_info": {"name": "乐乐", "age": 3},
  "overall": {"total_score": 0, "total_correct": 0, "days_learned": 0},
  "modules": {
    "literacy": {"score": 0, "correct": 0, "wrong": 0, "level": 1},
    "pinyin": {...},
    "math": {...},
    "english": {...},
    "thinking": {...},
    "vehicles": {...}
  },
  "rewards": {"stars": 0, "badges": []},
  "wrong_questions": {...},
  "review_items": {...},
  "daily_challenges": {...}
}
```

---

## 扩展开发

### 添加新字库
1. 编辑 `字库模板.txt`，每行一个汉字
2. 或使用完整格式：`汉字,拼音,emoji,组词1|组词2,造句`
3. 在识字乐园中点击"导入字库"

### 添加新音频
1. 将mp3/wav文件放入 `audio/praise/` 或 `audio/encourage/`
2. 程序会自动扫描并随机播放

### 添加新模块
1. 参考现有模块结构创建新文件
2. 在 `kids_learning_main.py` 中添加入口
3. 在 `learning_data.py` 中添加模块数据

---

## 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v2.7 | 2024-12-31 | 数据保存优化、退出确认默认同意 |
| v2.6 | 2024-12-30 | 退出确认、休息提醒、定时器清理 |
| v2.5 | 2024-12-30 | 每日挑战、艾宾浩斯复习 |
| v2.0 | 2024-12-24 | 6大模块完成、奖励系统 |
| v1.0 | 2024-12-24 | 初始版本 |

---

## 联系方式

如有问题或建议，请联系开发者。

